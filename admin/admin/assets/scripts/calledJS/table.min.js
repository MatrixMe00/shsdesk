$("table tbody tr .edit").click(function(){id_number=$(this).parents("tr").attr("data-index"),registered=$(this).parents("tr").attr("data-register"),dataString="index_number="+id_number+"&registered="+registered+"&submit=fetchStudentDetails",$("#updateStudent").removeClass("no_disp"),$("#updateStudent form").addClass("no_disp"),$("#updateStudent #getLoader").parent().removeClass("no_disp").addClass("flex"),$("#updateStudent #getLoader").removeClass("no_disp").html(loadDisplay({circular:!0,circleColor:"light"})),action=$("form[name=adminUpdateStudent]").attr("action"),$.ajax({url:action,type:"post",data:dataString,dataType:"json",cache:!0,timeout:15e3,success:function(e){e=JSON.parse(JSON.stringify(e)),"success"==e.status?($("#updateStudent #getLoader").parent().addClass("no_disp").removeClass("flex"),$("#updateStudent #getLoader").html(""),$("form[name=adminUpdateStudent] input[name=student_index]").val(e.indexNumber),$("form[name=adminUpdateStudent] input[name=lname]").val(e.Lastname),$("form[name=adminUpdateStudent] input[name=oname]").val(e.Othernames),$("form[name=adminUpdateStudent] select[name=gender]").val(e.Gender),"true"==registered?($("form[name=adminUpdateStudent] select[name=house]").prop("disabled",!1).val(e.houseID),$("form[name=adminUpdateStudent] label[for=house]").removeClass("no_disp")):($("form[name=adminUpdateStudent] select[name=house]").prop("disabled",!0),$("form[name=adminUpdateStudent] label[for=house]").addClass("no_disp")),$("form[name=adminUpdateStudent] input[name=student_course]").val(e.programme),$("form[name=adminUpdateStudent] input[name=aggregate]").val(e.aggregate),$("form[name=adminUpdateStudent] input[name=jhs]").val(e.jhsAttended),$("form[name=adminUpdateStudent] input[name=dob]").val(e.dob),$("form[name=adminUpdateStudent] input[name=track_id]").val(e.trackID),$("form[name=adminUpdateStudent] select[name=boarding_status]").val(e.boardingStatus),$("#updateStudent form").removeClass("no_disp")):(alert_box("Data was not found","danger"),$("form[name=adminUpdateStudent] button[name=cancel]").click())},error:function(e,t){let a="";a="timeout"==t?"Connection was timed out due to a slow network. Please try again later.":"Invalid request to server. Please try again later",alert_box(a,"danger",8),$("form[name=adminUpdateStudent] button[name=cancel]").click()}})}),$("table tbody tr .delete").click(function(){item_id=$(this).parents("tr").attr("data-index"),fullname=$(this).parents("tr").children("td:nth-child(2)").html(),$("#table_del").removeClass("no_disp"),$("#table_del p#warning_content").html("Do you want to remove <b>"+fullname+"</b> from your database?"),$("#table_del input[name=indexNumber]").val(item_id)}),$("button#del_all").click(function(){item_id="all",fullname="all records".toUpperCase(),$("#table_del").removeClass("no_disp"),$("#table_del p#warning_content").html("Are you sure you want to remove <b>"+fullname+"</b> from your database?"),$("#table_del input[name=indexNumber]").val(item_id)}),$("#table_del form").submit(function(e){e.preventDefault(),response=formSubmit($(this),$("form[name=table_yes_no_form] input[name=submit]",!1)),1==response?("all"==$("#table_del input[name=indexNumber]").val()&&".tabs .tab_btn.active".click(),registered=$("tr[data-index="+$("#table_del input[name=indexNumber]").val()+"]").attr("data-register"),$("tr[data-index="+$("#table_del input[name=indexNumber]").val()+"]").remove(),cssps_head=$(".content.cssps .head h2"),comp_head=$(".content.reg_comp .head h2"),not_comp_head=$(".content.reg_uncomp .head h2"),$(cssps_head).html(parseInt($(cssps_head).html())-1),"true"==registered?$(comp_head).html(parseInt($(comp_head).html())-1):$(not_comp_head).html(parseInt($(not_comp_head).html())-1)):alert_box(response,"warning",8),$("#table_del form")[0].reset(),$("#table_del").addClass("no_disp")}),$("form[name=adminUpdateStudent] button[name=cancel]").click(function(){$("#updateStudent").addClass("no_disp"),$("#updateStudent #getLoader").parent().addClass("no_disp").removeClass("flex"),$("#updateStudent #getLoader").html("")}),$("#updateStudent .item-event").click(function(){$("form[name=adminUpdateStudent] button[name=cancel]").click()});