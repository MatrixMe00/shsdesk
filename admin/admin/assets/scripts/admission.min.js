function prefix_preview(){let e=$("#prefix_text").val().trim(),i=$("#prefix_year").val(),a=$("#prefix_year option:selected").data("current-year")||"",t=$("#prefix_separator").val()||"";e||(e="ADM");let s=[];e&&s.push(e),i&&s.push(a),s.push("0001");let n=s.join(t);$("#prefix_preview").text(n)}$("input[type=file]").change(function(){image_path=$(this).val(),image_name=image_path.split("C:\\fakepath\\"),""!=image_path?($(this).siblings(".plus").hide(),$(this).siblings(".display_file_name").html(image_name)):($(this).siblings(".plus").css("display","initial"),$(this).siblings(".display_file_name").html("Choose or drag your file here"))}),school_image=$("#display_avatar img").attr("src"),$("input[name=avatar]").change(function(){if(""!=$(this).val()){$("label[for=display_avatar]").show();var e=$("input[type=file]").get(0).files[0];e&&(reader=new FileReader,reader.onload=function(){$("#display_avatar img").attr("src",reader.result)},reader.readAsDataURL(e))}else $("#display_avatar img").prop("src",school_image)}),$("form[name=admissiondetailsForm]").submit(function(e){tinymce.triggerSave(),e.preventDefault(),fileUpload($(this),$(this).find("button[name=submit]"),!0).then(e=>{1==e?alert_box("Update was successful!"):alert_box(e,"danger",8)})}),$("#multi_prospectus").on("change",function(){$(this).is(":checked")?($("#multi_prospectus_container").removeClass("no_disp"),$("#single_prospectus").addClass("no_disp")):($("#multi_prospectus_container").addClass("no_disp"),$("#single_prospectus").removeClass("no_disp"))}),$("#letter_prefix").on("change",function(){$("#prefix-container").toggleClass("no_disp",!$(this).is(":checked"))}),$(document).ready(function(){prefix_preview()}),$("#prefix_text, #prefix_year, #prefix_separator").on("input change",function(){prefix_preview()}),$(".remove-template").on("click",function(){const e=window.confirm("Are you sure you want to remove this template instead of replacing?");e&&($("input[name=old_admission_template]").val(""),$(this).addClass("info").html("Save form to finalize changes"))});