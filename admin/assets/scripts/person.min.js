$("form[name=user_account_form]").submit(function(e){e.preventDefault(),response=formSubmit($(this),$("form[name=user_account_form] button[name=submit]")),time=5,1==response?(message="User data has been updated successfully",type="success",setTimeout(function(){location.reload()},3e3)):"no-change"==response?(message="No change was detected",type="load"):"update-error"==response?(message="Update was unsuccessful. Please try again later",type="error"):(message=response,type="error"),messageBoxTimeout("user_account_form",message,type,time)}),$("form[name=addAdmin] select[name=role]").change(function(){"others"==$(this).val().toLowerCase()?$("form[name=addAdmin] label[for=other_role]").removeClass("no_disp"):$("form[name=addAdmin] label[for=other_role]").hasClass("no_disp")||$("form[name=addAdmin] label[for=other_role]").addClass("no_disp")}),$("#users .item-event.delete").click(function(){item_id=$(this).attr("data-user-id"),fullname=$(this).parents(".user_container").children(".top").children("h4").html(),fullname=fullname.split(" ("),fullname=fullname[0],$("#gen_del").removeClass("no_disp"),$("#gen_del p#warning_content").html("Do you want to remove <b>"+fullname+"</b> from your database?"),$("#gen_del input[name=sid]").val(item_id),$("#gen_del input[name=mode]").val("delete"),$("#gen_del input[name=table]").val("admins_table")}),$("#users .item-event.edit").click(function(){$("#editAccount").removeClass("no_disp")}),$("#users .item-event.dev").click(function(){dataString="submit=retrieveDetails&id="+$(this).attr("data-user-id"),$.ajax({url:$("form[name=addAdmin]").attr("action"),data:dataString,dataType:"json",timeout:15e3,success:function(e){e=JSON.parse(JSON.stringify(e)),"success"==e.status?($("form #fullname").val(e.fullname),$("form #user_id").val(e.user_id),$("form #email").val(e.email),$("form #contact").val(e.contact),$("form #username").val(e.username)):(alert_box("User Undefined","danger"),$("#editAccount").addClass("no_disp"))},error:function(e,t){let a="";a="timeout"==t?"Connection was timed out due to a slow network. Please try again later":"Error communicating with server. Try again after a page refresh",alert_box(a,"warning",8)}})}),$("form[name=addAdmin]").submit(function(e){e.preventDefault(),result=formSubmit($(this),$("form[name=addAdmin] button[name=submit]"),!1),1==result?($("#pMessage").html("Admin added succefully. Preparing dashboard..."),setTimeout(function(){$("#pMessage").html("Welcome "+$("#new_username").val())},3e3),setTimeout(function(){location.href=location.href},4e3)):(html=$("#pMessage").html(),message="","insert-error"==result?message="Problem adding user to your database. Reload page and try again":message=result,$("#pMessage").html(message).addClass("danger"),setTimeout(function(){$("#pMessage").html(html).removeClass("danger")},5e3))}),$(".item-event.status").click(function(){me=$(this),text=$(this).html(),user_id=$(this).attr("data-user-id"),"activate"==text.toLowerCase()?stat=1:stat=0,$.ajax({url:$("form[name=user_account_form]").prop("action"),data:"submit=status_modify&stat="+stat+"&user_id="+user_id,cache:!1,timeout:15e3,success:function(){"activate"==text.toLowerCase()?$(me).html("Deactivate"):$(me).html("Activate")},error:function(e,t){let a="";a="timeout"==t?"Connection was timed out due to a slow network. Please try again later":"User status could not be modified. Try again later",alert_box(a,"danger",8)}})});