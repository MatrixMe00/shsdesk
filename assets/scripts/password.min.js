$("input#email").blur(function(){$(this).val().length<=5?(messageBoxTimeout("passwordForm","Email field is incomplete!","error",5),$("#password_change").hasClass("no_disp")||$("#password_change").addClass("no_disp")):$.ajax({url:$("form").attr("action"),data:"email="+$(this).val()+"&submit=user_check",type:"POST",dataType:"html",cache:!1,timeout:8e3,beforeSend:function(){messageBoxTimeout("passwordForm",loadDisplay({span1:"gray",span2:"gray",span3:"gray",span4:"gray",size:"vsmall"}),"load",0)},success:function(s){s.includes("success")?($("#password_change").removeClass("no_disp"),user_id=s.split("+"),$("input[name=user_id]").val(user_id[1]),messageBoxTimeout("passwordForm","Email was found","success",5)):(messageBoxTimeout("passwordForm","Email is invalid","error",7),$("#password_change").addClass("no_disp"))},complete:function(){$(".message_box").removeClass("load").addClass("no_disp")},error:function(s,a){let e="";e="timeout"==a?"Connection was timed out due to a slow network. Please try again later":"Error communicating with server",messageBoxTimeout("passwordForm",e,"error",5)}}),$("#password_change").hasClass("no_disp")&&$(this).val().length>0&&$(this).val().length<=2&&messageBoxTimeout("passwordForm","Error getting account information! Check and try again later","error",5)}),$("input#password, input#password2").focus(function(){$("input#email").prop("disabled",!0)}),$("input#password2").keyup(function(){$("#password2").val()==$("#password").val()?$("button[name=submit]").prop("disabled",!1):$("button[name=submit]").prop("disabled",!0),$(this).val().length==$("input#password").val().length&&($(this).val()==$("input#password").val()?messageBoxTimeout("passwordForm","Passwords Match","success",5):messageBoxTimeout("passwordForm","Passwords Mismatch","error",5))}),$("form").submit(function(s){s.preventDefault(),$.ajax({url:$(this).prop("action"),data:$(this).serialize()+"&submit="+$("button[name=submit]").val(),type:$(this).prop("method"),dataType:"html",timeout:8e3,beforeSend:function(){messageBoxTimeout("passwordForm",loadDisplay({size:"vsmall"}),"load",0)},success:function(s){"success"===s?(messageBoxTimeout("passwordForm","Password has been changed successfully","success"),$("input#password, input#password2, button[name=submit]").prop("disabled",!0),setTimeout(function(){location.href="admin/"},1500)):(messageBoxTimeout("passwordForm","Password could not be changed. Try again later","error"),$("input#password, input#password2, button[name=submit]").prop("disabled",!1))},error:(s,a)=>{let e="";"timeout"==a&&(e="Connection was timed out due to a slow network. Please try again later"),alert_box(e,"danger",10)}})}),$("button[name=cancel]").click(function(){return_user=!1,$("#password_change").hasClass("no_disp")&&(return_user=!0),$("#password_change").addClass("no_disp"),$("button[name=submit]").prop("disabled",!0),$("#email").prop("disabled",!1),return_user&&(location.href="admin/")});