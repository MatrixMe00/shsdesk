function loadDisplay(e={size:"",display:"",animation:"",full:!1,circular:!1,span1:"",span2:"",span3:"",span4:"",circleColor:""}){return null!=e.size&&""!=e.size||(wide=$(window).width(),wide<480?e.size="vsmall":wide<720?e.size="small":e.size="med"),null!=e.animation&&""!=e.animation||(e.animation="anim-swing"),null!=e.display&&""!=e.display||(e.display="semi-round"),null!=e.span1&&""!=e.span1||(e.span1="red"),null!=e.span2&&""!=e.span2||(e.span2="yellow"),null!=e.span3&&""!=e.span3||(e.span3="green"),null!=e.span4&&""!=e.span4||(e.span4="teal"),e.full?fullClass="full":fullClass="",null!=e.circleColor&&""!=e.circleColor||(e.circleColor="dark"),e.circular?load='<div class="loader '+fullClass+' circle-loader flex anim-fade" style="--c:8">\n<div class="span-container flex">\n<span class="stroke '+e.display+" "+e.circleColor+'" style="--i:0"></span>\n<span class="stroke '+e.display+" "+e.circleColor+'" style="--i:1"></span>\n<span class="stroke '+e.display+" "+e.circleColor+'" style="--i:2"></span>\n<span class="stroke '+e.display+" "+e.circleColor+'" style="--i:3"></span>\n<span class="stroke '+e.display+" "+e.circleColor+'" style="--i:4"></span>\n<span class="stroke '+e.display+" "+e.circleColor+'" style="--i:5"></span>\n<span class="stroke '+e.display+" "+e.circleColor+'" style="--i:6"></span>\n<span class="stroke '+e.display+" "+e.circleColor+'" style="--i:7"></span>\n</div>\n</div>':load='<div class="loader flex '+e.animation+" "+fullClass+'" style="--c:4">\n<div class="span-container flex">\n<span class="'+e.size+" "+e.display+" "+e.span1+'" style="--i:0"></span>\n<span class="'+e.size+" "+e.display+" "+e.span2+'" style="--i:1"></span>\n<span class="'+e.size+" "+e.display+" "+e.span3+'" style="--i:2"></span>\n<span class="'+e.size+" "+e.display+" "+e.span4+'" style="--i:3"></span>\n</div>\n</div>\n',load}function showFieldError(e,a){e.next(".field-error").remove(),a&&e.after('<small class="field-error" style="color:red;display:block;margin-top:3px;">'+a+"</small>")}function formRequiredCheck(e){let a=$(e),t=a.prop("required")||a.hasClass("required"),n=(a.attr("type"),a.val()||""),s=parseInt(a.attr("maxlength"),10)||0,o=parseInt(a.attr("minlength"),10)||0,r=!0;t&&(n.length<o?r=!1:s>0&&n.length>s?r=!1:0===n.length&&(r=!1)),t?a.css("border",r?"1px solid green":"1px solid red"):a.css("border","")}function validateField(e){if(e.prop("disabled"))return e.css("border",""),showFieldError(e,""),!0;let a=e.prop("required")||e.hasClass("required"),t=(e.val()||"").trim(),n=parseInt(e.attr("minlength"),10)||0,s=parseInt(e.attr("maxlength"),10)||1/0,o=e.attr("pattern"),r="";if(a&&0===t.length)r="This field is required.";else if(t.length>0)if(t.length<n)r="Minimum length is "+n+" characters.";else if(t.length>s)r="Maximum length is "+s+" characters.";else if(o)try{let a=new RegExp("^"+o+"$");a.test(t)||(r="Invalid format.")}catch(a){console.warn("Invalid regex pattern for",e.attr("name"),o)}return r?e.css("border","1px solid red"):t.length>0||a?e.css("border","1px solid green"):e.css("border",""),showFieldError(e,r),""===r}function validateCurrentTab(){let e=$(".form_views > div:not(.no_disp)"),a=!0;if(e.find("input, select, textarea").each(function(){let e=validateField($(this));e||(a=!1)}),"view2"===e.attr("id")){let e=$("#ad_father_name").val().trim().length>=6&&""!==$("#ad_father_occupation").val().trim(),t=$("#ad_mother_name").val().trim().length>=6&&""!==$("#ad_mother_occupation").val().trim(),n=$("#ad_guardian_name").val().trim().length>=5;e||t||n||(a=!1)}return a}function updateGuardianRules(){const e=$("#ad_father_name").val().trim(),a=$("#ad_father_occupation").val().trim(),t=$("#ad_mother_name").val().trim(),n=$("#ad_mother_occupation").val().trim(),s=$("#ad_guardian_name").val().trim(),o=e.length>=6&&a.length>0,r=t.length>=6&&n.length>0,i=s.length>=6;o||r?$("#ad_guardian_name").prop("disabled",!0).val(""):$("#ad_guardian_name").prop("disabled",!1),i?$("#ad_father_name, #ad_father_occupation, #ad_mother_name, #ad_mother_occupation").prop("disabled",!0).val(""):$("#ad_father_name, #ad_father_occupation, #ad_mother_name, #ad_mother_occupation").prop("disabled",!1),o||r||i?$("#ad_father_name, #ad_father_occupation, #ad_mother_name, #ad_mother_occupation, #ad_guardian_name").css("border","2px solid green"):$("#ad_father_name, #ad_father_occupation, #ad_mother_name, #ad_mother_occupation, #ad_guardian_name").css("border","")}function fadeOutElement(e,a=.7){a*=1e3,$(e).addClass("fadeOut"),timeout=setTimeout(function(){$(e).removeClass("fadeOut").addClass("no_disp")},a)}function slideshow(e){$(".img_container img").hide(),$(".img_container img:nth-child("+e+")").show(),$(".description .detail").hide(),$(".description .detail:nth-child("+e+")").fadeIn()}function resetAccepts(){accept1=!1,accept2=!1}function checkForm(e){let a=!0,t=parseInt(e,10),n=validateCurrentTab();if(1===t?(accept1=n,$(".tab_button.active").toggleClass("incomplete",!1===n)):2===t&&(accept2=n,$(".tab_button.active").toggleClass("incomplete",!1===n)),n){let e=t+1,a=$(".tab_button:nth-child("+e+")");a.hasClass("no_disp")&&a.removeClass("no_disp")}if(accept1&&accept2){let e=$("label[for=agree] input[name=agree]");if(e.prop("disabled",!1),3===t){let a=e.prop("checked");n=a}}else $("label[for=agree] input[name=agree]").prop("disabled",!0);return $("#res_ad_interest").html($("input#interest").val()),a=!n,a}function toFormData(e){return e instanceof FormData?e:JSONtoFormData(e)}function FormDataToJSON(e){const a={};for(var t of e.entries())a[t[0]]=t[1];return a}function JSONtoFormData(e){const a=new FormData;for(const t in e)e.hasOwnProperty(t)&&a.append(t,e[t]);return a}async function fileUpload(e,a,t=!0){if(!checkFormElement(e,a))return!1;const n=new FormData(e[0],a[0]);return response=null,await $.ajax({url:$(e).attr("action"),data:n,method:$(e).attr("method")?$(e).attr("method"):"POST",dataType:"text",cache:!1,contentType:!1,processData:!1,timeout:3e4,beforeSend:function(){t&&(message=loadDisplay({size:"small"}),type="load",time=0,messageBoxTimeout(e.prop("name"),message,type,time))},success:function(a){t&&$("form[name="+$(e).prop("name")+"] .message_box").addClass("no_disp"),response="success"==a||a},error:function(a,t){message=JSON.parse(JSON.stringify(a)),"timeout"===t&&(message="Connection was timed out due to a slow network. Please try again later"),type="error",messageBoxTimeout(e.prop("name"),message,type)}}),response}function is_json_string(e){try{return JSON.parse(e),!0}catch(e){return!1}}async function jsonFileUpload(e,a,t=!0){if(!checkFormElement(e,a))return!1;const n=new FormData(e[0],a[0]);return n.append("response_type","json"),response=null,await $.ajax({url:$(e).attr("action"),data:n,method:$(e).attr("method")?$(e).attr("method"):"POST",dataType:"json",cache:!1,contentType:!1,processData:!1,timeout:3e4,beforeSend:function(){t&&(message=loadDisplay({size:"small"}),type="load",time=0,messageBoxTimeout(e.prop("name"),message,type,time))},success:function(a){t&&$("form[name="+$(e).prop("name")+"] .message_box").addClass("no_disp"),response=a},error:function(a,n){message="Please check your internet connection and try again","timeout"==n&&(messgae="Connection was timed out due to a slow network. Please try again later"),type="error",t&&messageBoxTimeout(e.prop("name"),message,type)}}),response}async function ajaxCall({url:e,formData:a={},returnType:t="text",method:n="GET",sendRaw:s=!1,beforeSend:o=null,timeout:r=0}){let i=!1;try{a instanceof FormData?a.append("response_type",t):a.response_type=t,await $.ajax({type:n,url:e,data:a,dataType:t,timeout:r,contentType:!s&&"application/x-www-form-urlencoded; charset=UTF-8",processData:!s,beforeSend:function(){null!=o&&o()},success:function(e){i=e},error:function(e,a,t){console.error(`Error: ${t}`,e),alert_box(""!=a?a:t,"danger")}})}catch(e){alert_box(e.toString(),"danger"),console.log(e)}return i}function checkFormElement(e,a){return e instanceof jQuery?null===a||a instanceof jQuery?!!$(e).attr("name")||(alert_box("Your form has no attribute name","danger"),!1):(alert_box("Button element is not a jquery object","danger"),!1):(alert_box("Form is not a jquery object","danger"),!1)}function formSubmit(e,a,t=!0){if(!checkFormElement(e,a))return!1;a=null===a||e.find("input[name=submit]").length>0?null:a[0];const n=FormDataToJSON(new FormData(e[0],a));return response=null,$.ajax({url:e.attr("action"),data:n,method:e.attr("method")?e.attr("method"):"POST",dataType:"text",cache:!1,async:!1,timeout:3e4,beforeSend:function(){t&&(message=loadDisplay({size:"small"}),type="load",time=0,messageBoxTimeout(e.prop("name"),message,type,time))},success:function(a){t&&$("form[name="+e.prop("name")+"] .message_box").addClass("no_disp"),"success"==a||a.includes("success")?response=!0:response=a},error:function(a,n){if(message="Please check your internet connection and try again",type="error","timeout"==n&&(message="Connection was timed out due to a slow network. Please try again later"),!t)return message;messageBoxTimeout(e.prop("name"),message,type)}}),response}async function jsonFormSubmit(e,a,t=!0){if(!checkFormElement(e,a))return!1;a=null===a||e.find("input[name=submit]").length>0?null:a[0];const n=FormDataToJSON(new FormData(e[0],a));return n.response_type="json",response=null,await $.ajax({url:e.attr("action"),data:n,method:e.attr("method")?e.attr("method"):"POST",dataType:"json",cache:!1,timeout:3e4,beforeSend:function(){t&&(message=loadDisplay({size:"small"}),type="load",time=0,messageBoxTimeout(e.prop("name"),message,type,time))},success:function(a){t&&$("form[name="+e.prop("name")+"] .message_box").addClass("no_disp"),a=JSON.parse(JSON.stringify(a)),"boolean"==typeof a.status?response=a:"string"==typeof a.status&&("success"==a.status||a.status.includes("success")?response=!0:response=a)},error:function(a,n){message=JSON.stringify(a),type="error","timeout"===n&&(message="Connection was timed out due to a slow network. Please try again later"),t?messageBoxTimeout(e.prop("name"),message,type,0):alert_box(message,"danger")}}),response}function alert_box(e,a="primary",t=5){$("body").find("#alert_modal").length<1&&(alert_modal='<div id="alert_modal" class="fixed flex flex-column flex-align-end"></div>',$("body").append(alert_modal)),my_number=$("#alert_modal").children(".alert_box").length,box='<div class="alert_box '+a+'" id="alert_box'+(my_number+1)+'"> <div class="message">     <span>'+e+"</span> </div></div>",$("#alert_modal").append(box),removeAlert("alert_box"+(my_number+1),t)}function removeAlert(e,a){a>0&&setTimeout(function(){$("#"+e).remove()},1e3*a)}function dragElement(e){var a,t,n,s,o=!1,r=$(e);const i=r.width();r.css({width:i}),r.mousedown(function(e){o=!0,a=e.pageX,t=e.pageY,n=a-r.offset().left,s=t-r.offset().top}),$(document).mousemove(function(e){o&&r.css({left:e.pageX-n,top:e.pageY-s})}),$(document).mouseup(function(e){o=!1})}function touchDragElement(e){var a,t,n,s,o=!1,r=$(e);const i=r.width();r.css({width:i}),r.on("touchstart",function(e){o=!0,a=e.originalEvent.touches[0].pageX,t=e.originalEvent.touches[0].pageY,n=a-r.offset().left,s=t-r.offset().top}),$(document).on("touchmove",function(e){o&&r.css({left:e.originalEvent.touches[0].pageX-n,top:e.originalEvent.touches[0].pageY-s})}),$(document).on("touchend",function(e){o=!1})}function formatItemId(e,a,t=!1){return t?(e=e.toUpperCase(),e=e.replace(a,"").replace(" ",""),e=parseInt(e)):(e=e.toString().padStart(4,"0"),e=`${a} ${e}`),e}function jsonToURL(e){e=JSON.stringify(e);let a=e.replace(/[{}"]/g,"");return a=a.replace(/[:,]/g,function(e){return":"===e?"=":"&"}),a=a.replace(/\//g,"_"),a}function positionFormat(e){e=parseInt(e,10);let a="";switch(e%10){case 1:a=e>20||e<10?"st":"th";break;case 2:a=e>20||e<10?"nd":"th";break;case 3:a=e>20||e<10?"rd":"th";break;default:a="th"}return e+a}function delay(e){return new Promise(a=>setTimeout(a,e))}function menu_route(e,a="lhs",t="item"){const n=$("#"+a).find("."+t+"[name="+e+"]");e&&n.length>0&&n.click()}var accept1=!1,accept2=!1;